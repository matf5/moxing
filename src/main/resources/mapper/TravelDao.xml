<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace指定我们的到具体的bean -->
<mapper namespace="com.moxing.ssm.dao.TravelDao">
    <resultMap id="BaseResultMap" type="com.moxing.ssm.model.Travel" >
        <id column="id" property="id" jdbcType="INTEGER" />
        <result column="user_id" property="userId" jdbcType="INTEGER" />
        <result column="friend_id" property="friendId" jdbcType="INTEGER" />
        <result column="title" property="title" jdbcType="VARCHAR" />
        <result column="description" property="description" jdbcType="VARCHAR" />
        <result column="begin_date" property="beginDate" jdbcType="TIMESTAMP" />
        <result column="end_date" property="endDate" jdbcType="TIMESTAMP" />
        <result column="begin_pos_prov" property="beginPosProv" jdbcType="VARCHAR" />
        <result column="begin_pos_city" property="beginPosCity" jdbcType="VARCHAR" />
        <result column="dest_pos_prov" property="destPosProv" jdbcType="VARCHAR" />
        <result column="dest_pos_city" property="destPosCity" jdbcType="VARCHAR" />
        <result column="img_url" property="imgUrl" jdbcType="VARCHAR" />
        <result column="state" property="state" jdbcType="INTEGER" />
        <result column="longitude" property="longitude" jdbcType="VARCHAR" />
        <result column="latitude" property="latitude" jdbcType="VARCHAR" />
        <result column="cDate" property="cdate" jdbcType="TIMESTAMP" />
        <result column="is_expired" property="isExpired" jdbcType="BIT" />
    </resultMap>

    <sql id="Base_Column_List" >
        id, user_id, friend_id, title, description, begin_date, end_date, begin_pos_prov,
        begin_pos_city, dest_pos_prov, dest_pos_city, img_url, state, longitude,
        latitude, cDate, is_expired
    </sql>
    <!--增加语句-->
    <insert id="add" parameterType="com.moxing.ssm.model.Travel" >
        insert into travel
        <trim prefix="(" suffix=")" suffixOverrides="," >
            <if test="id != null" >
                id,
            </if>
            <if test="userId != null" >
                user_id,
            </if>
            <if test="friendId != null" >
                friend_id,
            </if>
            <if test="title != null" >
                title,
            </if>
            <if test="description != null" >
                description,
            </if>
            <if test="beginDate != null" >
                begin_date,
            </if>
            <if test="endDate != null" >
                end_date,
            </if>
            <if test="beginPosProv != null" >
                begin_pos_prov,
            </if>
            <if test="beginPosCity != null" >
                begin_pos_city,
            </if>
            <if test="destPosProv != null" >
                dest_pos_prov,
            </if>
            <if test="destPosCity != null" >
                dest_pos_city,
            </if>
            <if test="imgUrl != null" >
                img_url,
            </if>
            <if test="state != null" >
                state,
            </if>
            <if test="longitude != null" >
                longitude,
            </if>
            <if test="latitude != null" >
                latitude,
            </if>
            <if test="cdate != null" >
                cDate,
            </if>
            <if test="isExpired != null" >
                is_expired,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides="," >
            <if test="id != null" >
                #{id,jdbcType=INTEGER},
            </if>
            <if test="userId != null" >
                #{userId,jdbcType=INTEGER},
            </if>
            <if test="friendId != null" >
                #{friendId,jdbcType=INTEGER},
            </if>
            <if test="title != null" >
                #{title,jdbcType=VARCHAR},
            </if>
            <if test="description != null" >
                #{description,jdbcType=VARCHAR},
            </if>
            <if test="beginDate != null" >
                #{beginDate,jdbcType=TIMESTAMP},
            </if>
            <if test="endDate != null" >
                #{endDate,jdbcType=TIMESTAMP},
            </if>
            <if test="beginPosProv != null" >
                #{beginPosProv,jdbcType=VARCHAR},
            </if>
            <if test="beginPosCity != null" >
                #{beginPosCity,jdbcType=VARCHAR},
            </if>
            <if test="destPosProv != null" >
                #{destPosProv,jdbcType=VARCHAR},
            </if>
            <if test="destPosCity != null" >
                #{destPosCity,jdbcType=VARCHAR},
            </if>
            <if test="imgUrl != null" >
                #{imgUrl,jdbcType=VARCHAR},
            </if>
            <if test="state != null" >
                #{state,jdbcType=INTEGER},
            </if>
            <if test="longitude != null" >
                #{longitude,jdbcType=VARCHAR},
            </if>
            <if test="latitude != null" >
                #{latitude,jdbcType=VARCHAR},
            </if>
            <if test="cdate != null" >
                #{cdate,jdbcType=TIMESTAMP},
            </if>
            <if test="isExpired != null" >
                #{isExpired,jdbcType=BIT},
            </if>
        </trim>
    </insert>
    <insert id="addBySelective" parameterType="com.moxing.ssm.model.Travel">
        INSERT INTO
        `travel`
        (`user_id`,`title`,`begin_date`,`end_date`,`begin_pos_prov`,`begin_pos_city`,
        `dest_pos_prov`,`dest_pos_city`,`longitude`,`latitude`, `description`,`img_url`)
        VALUES
        (#{userId},#{title},#{beginDate},#{endDate},#{beginPosProv},#{beginPosCity},
        #{destPosProv},#{destPosCity},#{longitude},#{latitude}, #{description},#{imgUrl})
    </insert>

</mapper>